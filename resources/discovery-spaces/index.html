<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Documentation website for https://github.com/ibm/ado"><meta name=author content="The ado authors"><link href=https://ibm.github.io/ado/resources/discovery-spaces/ rel=canonical><link href=../sample-stores/ rel=prev><link href=../operation/ rel=next><link rel=icon href=../../favicon.ico><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.6.18"><title>discoveryspace - ado Documentation</title><link rel=stylesheet href=../../assets/stylesheets/main.7e37652d.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.06af60db.min.css><link rel=stylesheet href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans:ital,wght@0,100..700;1,100..700&display=swap"><link rel=stylesheet href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;1,100;1,200;1,300;1,400;1,500;1,600;1,700&family=IBM+Plex+Sans:ital,wght@0,100..700;1,100..700&display=swap"><script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=black data-md-color-accent=blue> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#creating-a-discoveryspace-resource class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class="md-header md-header--shadow md-header--lifted" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../.. title="ado Documentation" class="md-header__button md-logo" aria-label="ado Documentation" data-md-component=logo> <img src=../../logo-ibm.png alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> ado Documentation </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> discoveryspace </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media=(prefers-color-scheme) data-md-color-scheme=default data-md-color-primary=black data-md-color-accent=blue aria-label="Switch to light mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m14.3 16-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9zM20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zm-9.15 3.96h2.3L12 9z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=default data-md-color-primary=black data-md-color-accent=blue aria-label="Switch to dark mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_2 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary=black data-md-color-accent=blue aria-label="Switch to system preference" type=radio name=__palette id=__palette_2> <label class="md-header__button md-icon" title="Switch to system preference" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg> </label> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=Search> <a href=javascript:void(0) class="md-search__icon md-icon" title=Share aria-label=Share data-clipboard data-clipboard-text data-md-component=search-share tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg> </a> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/ibm/ado title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill=currentColor d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg> </div> <div class=md-source__repository> ibm/ado </div> </a> </div> </nav> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../.. class=md-tabs__link> Getting Started </a> </li> <li class=md-tabs__item> <a href=../../examples/examples/ class=md-tabs__link> Examples </a> </li> <li class=md-tabs__item> <a href=../../core-concepts/concepts/ class=md-tabs__link> Core Concepts </a> </li> <li class="md-tabs__item md-tabs__item--active"> <a href=../resources/ class=md-tabs__link> Resources </a> </li> <li class=md-tabs__item> <a href=../../actuators/working-with-actuators/ class=md-tabs__link> Actuators </a> </li> <li class=md-tabs__item> <a href=../../operators/working-with-operators/ class=md-tabs__link> Operators </a> </li> </ul> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../.. title="ado Documentation" class="md-nav__button md-logo" aria-label="ado Documentation" data-md-component=logo> <img src=../../logo-ibm.png alt=logo> </a> ado Documentation </label> <div class=md-nav__source> <a href=https://github.com/ibm/ado title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill=currentColor d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg> </div> <div class=md-source__repository> ibm/ado </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_1> <div class="md-nav__link md-nav__container"> <a href=../.. class="md-nav__link "> <span class=md-ellipsis> Getting Started </span> <span class="md-status md-status--published"></span> </a> <label class="md-nav__link " for=__nav_1 id=__nav_1_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_1_label aria-expanded=false> <label class=md-nav__title for=__nav_1> <span class="md-nav__icon md-icon"></span> Getting Started </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../getting-started/demo/ class=md-nav__link> <span class=md-ellipsis> Demo </span> <span class="md-status md-status--published"></span> </a> </li> <li class=md-nav__item> <a href=../../getting-started/install/ class=md-nav__link> <span class=md-ellipsis> Installation </span> <span class="md-status md-status--published"></span> </a> </li> <li class=md-nav__item> <a href=../../getting-started/ado/ class=md-nav__link> <span class=md-ellipsis> The ado CLI </span> <span class="md-status md-status--published"></span> </a> </li> <li class=md-nav__item> <a href=../../getting-started/installing-backend-services/ class=md-nav__link> <span class=md-ellipsis> Installing backend services </span> <span class="md-status md-status--published"></span> </a> </li> <li class=md-nav__item> <a href=../../getting-started/remote_run/ class=md-nav__link> <span class=md-ellipsis> Running ado on remote ray clusters </span> <span class="md-status md-status--published"></span> </a> </li> <li class=md-nav__item> <a href=../../getting-started/developing/ class=md-nav__link> <span class=md-ellipsis> Developing ado </span> <span class="md-status md-status--published"></span> </a> </li> <li class=md-nav__item> <a href=../../getting-started/roadmap/ class=md-nav__link> <span class=md-ellipsis> Roadmap </span> <span class="md-status md-status--published"></span> </a> </li> <li class=md-nav__item> <a href=../../getting-started/contributing/ class=md-nav__link> <span class=md-ellipsis> Contributing </span> <span class="md-status md-status--published"></span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_2> <label class=md-nav__link for=__nav_2 id=__nav_2_label tabindex=0> <span class=md-ellipsis> Examples </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Examples </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../examples/examples/ class=md-nav__link> <span class=md-ellipsis> Examples </span> <span class="md-status md-status--draft"></span> </a> </li> <li class=md-nav__item> <a href=../../examples/random-walk/ class=md-nav__link> <span class=md-ellipsis> Taking a random walk </span> <span class="md-status md-status--published"></span> </a> </li> <li class=md-nav__item> <a href=../../examples/best-configuration-search/ class=md-nav__link> <span class=md-ellipsis> Search a space with an optimizer </span> <span class="md-status md-status--published"></span> </a> </li> <li class=md-nav__item> <a href=../../examples/search-custom-objective/ class=md-nav__link> <span class=md-ellipsis> Search based on a custom objective function </span> <span class="md-status md-status--published"></span> </a> </li> <li class=md-nav__item> <a href=../../examples/lhu/ class=md-nav__link> <span class=md-ellipsis> Identify the important dimensions of a space </span> <span class="md-status md-status--draft"></span> </a> </li> <li class=md-nav__item> <a href=../../examples/finetune-locally/ class=md-nav__link> <span class=md-ellipsis> Measure throughput of fine-tuning locally </span> </a> </li> <li class=md-nav__item> <a href=../../examples/finetune-remotely/ class=md-nav__link> <span class=md-ellipsis> Measure throughput of fine-tuning on a remote RayCluster </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_3> <label class=md-nav__link for=__nav_3 id=__nav_3_label tabindex=0> <span class=md-ellipsis> Core Concepts </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Core Concepts </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../core-concepts/concepts/ class=md-nav__link> <span class=md-ellipsis> Concepts </span> <span class="md-status md-status--published"></span> </a> </li> <li class=md-nav__item> <a href=../../core-concepts/entity-spaces/ class=md-nav__link> <span class=md-ellipsis> Entities and Entity Spaces </span> <span class="md-status md-status--published"></span> </a> </li> <li class=md-nav__item> <a href=../../core-concepts/actuators/ class=md-nav__link> <span class=md-ellipsis> Actuators, Experiments & Measurement Spaces </span> <span class="md-status md-status--published"></span> </a> </li> <li class=md-nav__item> <a href=../../core-concepts/discovery-spaces/ class=md-nav__link> <span class=md-ellipsis> Discovery Spaces </span> <span class="md-status md-status--published"></span> </a> </li> <li class=md-nav__item> <a href=../../core-concepts/data-sharing/ class=md-nav__link> <span class=md-ellipsis> Shared Sample Stores </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4 checked> <label class=md-nav__link for=__nav_4 id=__nav_4_label tabindex> <span class=md-ellipsis> Resources </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_4_label aria-expanded=true> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Resources </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../resources/ class=md-nav__link> <span class=md-ellipsis> Resources </span> <span class="md-status md-status--published"></span> </a> </li> <li class=md-nav__item> <a href=../metastore/ class=md-nav__link> <span class=md-ellipsis> The metastore </span> <span class="md-status md-status--published"></span> </a> </li> <li class=md-nav__item> <a href=../sample-stores/ class=md-nav__link> <span class=md-ellipsis> samplestore </span> <span class="md-status md-status--published"></span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> discoveryspace </span> <span class="md-status md-status--published"></span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> discoveryspace </span> <span class="md-status md-status--published"></span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#creating-a-discoveryspace-resource class=md-nav__link> <span class=md-ellipsis> Creating a discoveryspace resource </span> </a> <nav class=md-nav aria-label="Creating a discoveryspace resource"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#pre-requisites class=md-nav__link> <span class=md-ellipsis> Pre-requisites </span> </a> </li> <li class=md-nav__item> <a href=#discovery-space-configuration-yaml class=md-nav__link> <span class=md-ellipsis> Discovery Space configuration YAML </span> </a> </li> <li class=md-nav__item> <a href=#generating-an-initial-yaml-from-an-experiment-list class=md-nav__link> <span class=md-ellipsis> Generating an initial YAML from an Experiment list </span> </a> </li> <li class=md-nav__item> <a href=#differences-between-input-configuration-yaml-and-stored-configuration-yaml class=md-nav__link> <span class=md-ellipsis> Differences between input configuration YAML and stored configuration YAML </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#discovery-spaces-and-shared-sample-stores class=md-nav__link> <span class=md-ellipsis> Discovery Spaces and shared Sample Stores </span> </a> </li> <li class=md-nav__item> <a href=#accessing-entities class=md-nav__link> <span class=md-ellipsis> Accessing Entities </span> </a> <nav class=md-nav aria-label="Accessing Entities"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#ado-cli class=md-nav__link> <span class=md-ellipsis> ado cli </span> </a> </li> <li class=md-nav__item> <a href=#programmatically class=md-nav__link> <span class=md-ellipsis> Programmatically </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#target-v-observed-property-formats class=md-nav__link> <span class=md-ellipsis> Target v observed property formats </span> </a> </li> <li class=md-nav__item> <a href=#defining-the-domains-of-constitutive-properties-in-the-entityspace class=md-nav__link> <span class=md-ellipsis> Defining the domains of constitutive properties in the entityspace </span> </a> <nav class=md-nav aria-label="Defining the domains of constitutive properties in the entityspace"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#ensuring-the-entityspace-and-measurementspace-are-compatible class=md-nav__link> <span class=md-ellipsis> Ensuring the entityspace and measurementspace are compatible </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#parameterizing-experiments class=md-nav__link> <span class=md-ellipsis> Parameterizing Experiments </span> </a> <nav class=md-nav aria-label="Parameterizing Experiments"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#example-customizing-an-experiment class=md-nav__link> <span class=md-ellipsis> Example: Customizing an experiment </span> </a> </li> <li class=md-nav__item> <a href=#example-multiple-customizations-of-the-same-experiment class=md-nav__link> <span class=md-ellipsis> Example: Multiple customizations of the same experiment </span> </a> </li> <li class=md-nav__item> <a href=#example-using-an-optional-property-in-the-entityspace class=md-nav__link> <span class=md-ellipsis> Example: Using an optional property in the entityspace </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../operation/ class=md-nav__link> <span class=md-ellipsis> operation </span> <span class="md-status md-status--published"></span> </a> </li> <li class=md-nav__item> <a href=../actuatorconfig/ class=md-nav__link> <span class=md-ellipsis> actuatorconfiguration </span> <span class="md-status md-status--published"></span> </a> </li> <li class=md-nav__item> <a href=../datacontainer/ class=md-nav__link> <span class=md-ellipsis> datacontainer </span> <span class="md-status md-status--published"></span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_5> <label class=md-nav__link for=__nav_5 id=__nav_5_label tabindex=0> <span class=md-ellipsis> Actuators </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_5_label aria-expanded=false> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> Actuators </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../actuators/working-with-actuators/ class=md-nav__link> <span class=md-ellipsis> Actuators overview </span> <span class="md-status md-status--published"></span> </a> </li> <li class=md-nav__item> <a href=../../actuators/creating-actuator-classes/ class=md-nav__link> <span class=md-ellipsis> Extending `ado` with new actuators </span> <span class="md-status md-status--published"></span> </a> </li> <li class=md-nav__item> <a href=../../actuators/creating-custom-experiments/ class=md-nav__link> <span class=md-ellipsis> Adding custom experiments </span> <span class="md-status md-status--published"></span> </a> </li> <li class=md-nav__item> <a href=../../actuators/replay/ class=md-nav__link> <span class=md-ellipsis> Using externally obtained data </span> <span class="md-status md-status--draft"></span> </a> </li> <li class=md-nav__item> <a href=../../actuators/sft-trainer/ class=md-nav__link> <span class=md-ellipsis> SFTTrainer - measure fine-tuning performance </span> <span class="md-status md-status--draft"></span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_6> <label class=md-nav__link for=__nav_6 id=__nav_6_label tabindex=0> <span class=md-ellipsis> Operators </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_6_label aria-expanded=false> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> Operators </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../operators/working-with-operators/ class=md-nav__link> <span class=md-ellipsis> Operators overview </span> <span class="md-status md-status--published"></span> </a> </li> <li class=md-nav__item> <a href=../../operators/explore_operators/ class=md-nav__link> <span class=md-ellipsis> Explore operators </span> <span class="md-status md-status--published"></span> </a> </li> <li class=md-nav__item> <a href=../../operators/creating-operators/ class=md-nav__link> <span class=md-ellipsis> Extending `ado` with new Operators </span> <span class="md-status md-status--draft"></span> </a> </li> <li class=md-nav__item> <a href=../../operators/random-walk/ class=md-nav__link> <span class=md-ellipsis> The Random Walk Operator </span> <span class="md-status md-status--published"></span> </a> </li> <li class=md-nav__item> <a href=../../operators/optimisation-with-ray-tune/ class=md-nav__link> <span class=md-ellipsis> The Ray Tune Operator </span> <span class="md-status md-status--draft"></span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <a href=https://github.com/ibm/ado/edit/main/website/docs/resources/discovery-spaces.md title="Edit this page" class="md-content__button md-icon" rel=edit> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m14.06 9 .94.94L5.92 19H5v-.92zm3.6-6c-.25 0-.51.1-.7.29l-1.83 1.83 3.75 3.75 1.83-1.83c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.2-.2-.45-.29-.71-.29m-3.6 3.19L3 17.25V21h3.75L17.81 9.94z"/></svg> </a> <h1>discoveryspace</h1> <div class="admonition info end"> <p class=admonition-title>Info</p> <p>If you are not familiar with the concept of a Discovery Space check <a href=../../core-concepts/discovery-spaces/ >here</a></p> </div> <h2 id=creating-a-discoveryspace-resource>Creating a <code>discoveryspace</code> resource<a class=headerlink href=#creating-a-discoveryspace-resource title="Permanent link">&para;</a></h2> <h3 id=pre-requisites>Pre-requisites<a class=headerlink href=#pre-requisites title="Permanent link">&para;</a></h3> <p>In order to create a <code>discoveryspace</code> you must provide an existing <code>samplestore</code> that the <code>discoveryspace</code> will use for storage. See the <a href=../sample-stores/ >samplestores</a> documentation for more details.</p> <h3 id=discovery-space-configuration-yaml>Discovery Space configuration YAML<a class=headerlink href=#discovery-space-configuration-yaml title="Permanent link">&para;</a></h3> <div class="admonition info end"> <p class=admonition-title>Info</p> <p>You can execute <div class=highlight><pre><span></span><code>    ado template space --include-schema`
</code></pre></div> to output example YAML and full schema information for <code>discoveryspace</code> </p> </div> <p>An example <code>discoveryspace</code> is given below. Note, the values in this YAML are for illustrative purposes and need to be changed to define a valid space. </p> <div class=highlight><pre><span></span><code><span class=nt>sampleStoreIdentifier</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">source_abc123</span><span class=w> </span><span class=c1># The id of the sample store to use</span>
<span class=nt>entitySpace</span><span class=p>:</span><span class=w> </span><span class=c1>#A list of constitutive properties</span>
<span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>identifier</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">my_property1</span><span class=w> </span><span class=c1># The id of the first dimension/constitutive property of the space</span>
<span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>identifier</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">my_property2</span><span class=w> </span>
<span class=nt>experiments</span><span class=p>:</span><span class=w> </span><span class=c1># A list of experiments. The measurementspace of this discovery space</span>
<span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>acuatatorIdentifier</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">someactuator</span><span class=w> </span><span class=c1># The id of the actuator that contains the experiment</span>
<span class=w>    </span><span class=nt>experimentIdentifier</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">experiment_one</span><span class=w> </span><span class=c1># The id of the experiment to execute</span>
<span class=nt>metadata</span><span class=p>:</span>
<span class=w>  </span><span class=nt>description</span><span class=p>:</span><span class=w> </span><span class=s>&quot;This</span><span class=nv> </span><span class=s>is</span><span class=nv> </span><span class=s>an</span><span class=nv> </span><span class=s>example</span><span class=nv> </span><span class=s>discovery</span><span class=nv> </span><span class=s>space&quot;</span>
<span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">exampleSpace</span>
</code></pre></div> <p>The <a href=#defining-the-domains-of-constitutive-properties-in-the-entityspace>describing constitutive properties</a> has more information on the options available for defining constitutive properties. </p> <p>Once you have your <code>discoveryspace</code> YAML in a file called <code>FILE.yaml</code> create it with</p> <div class=highlight><pre><span></span><code>ado create space -f FILE.yaml
</code></pre></div> <p>If there are errors or inconsistencies in the space definition the create command will output an error. A common reason for inconsistency is that the properties defined in the entity-space do not match the properties required for the experiments in the measurement space. The next section show a way around this issue. </p> <h3 id=generating-an-initial-yaml-from-an-experiment-list>Generating an initial YAML from an Experiment list<a class=headerlink href=#generating-an-initial-yaml-from-an-experiment-list title="Permanent link">&para;</a></h3> <p>Given a list of experiment ids, that you want to use for the <code>measurementspace</code>, you can create an initial compatible <code>discoveryspace</code> which you can then edit. See <a href=#defining-the-domains-of-constitutive-properties-in-the-entityspace>constitutive properties and domains</a> for more.</p> <p>Assuming you are interested in the <code>finetune-gptq-lora-dp-r-4-a-16-tm-default-v1.1.0</code> experiment, you can create your space template using:</p> <div class=highlight><pre><span></span><code>ado template space --from-experiment finetune-gptq-lora-dp-r-4-a-16-tm-default-v1.1.0
</code></pre></div> <p>More in-depth documentation about this feature can be found in the section about <a href=../../getting-started/ado/#ado-template><code>ado template</code></a></p> <h3 id=differences-between-input-configuration-yaml-and-stored-configuration-yaml>Differences between input configuration YAML and stored configuration YAML<a class=headerlink href=#differences-between-input-configuration-yaml-and-stored-configuration-yaml title="Permanent link">&para;</a></h3> <p>After creating a <code>discoveryspace</code> if you <code>ado get</code> its YAML you will notice there is far more information output then you input. This is because currently the list of experiment references set in the config is expanded into the full experiment definitions and stored with the <code>discoveryspace</code>. </p> <div class="admonition warning end"> <p class=admonition-title>Warning</p> <p>This is done to avoid having a dependency on actuator availability to read the <code>discoveryspace</code> internally in <code>ado</code>. It is likely this will change in future versions. </p> </div> <h2 id=discovery-spaces-and-shared-sample-stores>Discovery Spaces and shared Sample Stores<a class=headerlink href=#discovery-spaces-and-shared-sample-stores title="Permanent link">&para;</a></h2> <p>Multiple <code>discoveryspace</code> resources can use the same <code>samplestore</code> resource - giving them a <em>common context</em>. In this case you can think of the <code>discoveryspace</code> as a "View" on the <code>samplestore</code> contents, filtering just the <code>entities</code> that match its description. </p> <p>To be more rigorous, give a <code>discoveryspace</code> you can apply this filter in two ways:</p> <ol type=1> <li>Filter <code>entities</code> that were placed in the <code>samplestore</code> via an operation the <code>discoveryspace</code></li> <li>Filter <code>entities</code> in the <code>samplestore</code> that match the <code>discoveryspace</code> </li> </ol> <p>To understand the difference in these two methods imagine two overlapping <code>discoveryspaces</code>, A and B, that use the same <code>samplestore</code>. If someone uses method one on <code>discoveryspace</code> A, they will only see the <code>entities</code> placed there by operations on <code>discoveryspace</code> A. However if someone uses method two on <code>discoveryspace</code> A, they will see <code>entities</code> placed there via operations on both <code>discoveryspace</code> A and space B.</p> <h2 id=accessing-entities>Accessing Entities<a class=headerlink href=#accessing-entities title="Permanent link">&para;</a></h2> <p>A common task is to see a table of measured entities associated with a <code>discoveryspace</code></p> <h3 id=ado-cli><code>ado</code> cli<a class=headerlink href=#ado-cli title="Permanent link">&para;</a></h3> <p>The <code>show</code> command is used to show things related to a resource. In this case we want to show the entities related to a <code>discoveryspace</code> so we use:</p> <p><div class=highlight><pre><span></span><code>ado show entities space
</code></pre></div> By default, this will output the entities as a table. There are various option flags that control this behaviour e.g. output to a CSV file. </p> <p>Following the <a href=#discovery-spaces-and-shared-sample-stores>above section</a> there are two lists of entities this could show. The command above will use filter (1) - <code>entities</code> that were placed in the <code>samplestore</code> via an operation the <code>discoveryspace</code>.</p> <p>If you want to use filter (2) - <code>entities</code> in the <code>samplestore</code> that match the <code>discoveryspace</code> - use. </p> <div class=highlight><pre><span></span><code>ado show entities space --include matching
</code></pre></div> <div class="admonition info end"> <p class=admonition-title>Info</p> <p>Note: in both cases measurements on the entity will be filtered to be only those defined by the <code>measurementspace</code> of the <code>discoveryspace</code></p> </div> <p>Two other options are </p> <ul> <li><code>--include unsampled</code> which lists <code>entities</code> defined by the <code>discoveryspace</code> but not yet sampled by any operation (as long as the space is finite).</li> <li><code>--include missing</code> which lists <code>entities</code> defined by the <code>discoveryspace</code> but not in the <code>samplestore</code></li> </ul> <h3 id=programmatically>Programmatically<a class=headerlink href=#programmatically title="Permanent link">&para;</a></h3> <p>Assuming you have your <a href=../metastore/#contexts-and-projects>context</a> in a file "my_context.yaml"</p> <div class=highlight><pre><span></span><code><span class=kn>import</span><span class=w> </span><span class=nn>yaml</span>
<span class=kn>from</span><span class=w> </span><span class=nn>orchestrator.metastore.project</span><span class=w> </span><span class=kn>import</span> <span class=n>ProjectContext</span>
<span class=kn>from</span><span class=w> </span><span class=nn>orchestrator.core.discoveryspace.space</span><span class=w> </span><span class=kn>import</span> <span class=n>DiscoverySpace</span>

<span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=s2>&quot;my_context.yaml&quot;</span><span class=p>)</span> <span class=k>as</span> <span class=n>f</span><span class=p>:</span>
    <span class=n>c</span> <span class=o>=</span> <span class=n>ProjectContext</span><span class=o>.</span><span class=n>model_validate</span><span class=p>(</span><span class=n>yaml</span><span class=o>.</span><span class=n>safe_load</span><span class=p>(</span><span class=n>f</span><span class=p>))</span>

<span class=n>space</span> <span class=o>=</span> <span class=n>DiscoverySpace</span><span class=o>.</span><span class=n>from_stored_configuration</span><span class=p>(</span><span class=n>project_context</span><span class=o>=</span><span class=n>c</span><span class=p>,</span> <span class=n>space_identifier</span><span class=o>=</span><span class=s1>&#39;space_abc123&#39;</span><span class=p>)</span>
<span class=c1># Get the sampled and measured entities. Returns a pandas DataFrame</span>
<span class=n>table</span> <span class=o>=</span> <span class=n>space</span><span class=o>.</span><span class=n>measuredEntitiesTable</span><span class=p>()</span>
<span class=c1># Get the matching. Returns a pandas DataFrame</span>
<span class=n>table</span> <span class=o>=</span> <span class=n>space</span><span class=o>.</span><span class=n>matchingEntitiesTable</span><span class=p>()</span>
</code></pre></div> <h2 id=target-v-observed-property-formats>Target v observed property formats<a class=headerlink href=#target-v-observed-property-formats title="Permanent link">&para;</a></h2> <p>There are two formats the entities can be output controlled by the <code>--property-format</code> option to <code>show entities</code></p> <p>The observed format outputs one row per entity. The columns are constitutive property names and the observed property names i.e. they include both the experiment id and target property id. This ensures that with one row per entity there are no clashing column names.</p> <p>The target format outputs one row per entity+experiment combination: so if there are two experiments in the Measurement Space then there will be two rows per entity. In this format the columns are constitutive property names and target property names. </p> <div class="admonition info end"> <p class=admonition-title>Info</p> <p>With <code>property-format=target</code> if there multiple experiments measure <em>different</em> target properties this will result in many empty fields in the table. This is because the column for a given target of one experiment will not have values in the rows corresponding to other experiments.</p> </div> <h2 id=defining-the-domains-of-constitutive-properties-in-the-entityspace>Defining the domains of constitutive properties in the entityspace<a class=headerlink href=#defining-the-domains-of-constitutive-properties-in-the-entityspace title="Permanent link">&para;</a></h2> <p>The YAML for the constitutive properties in the <code>entityspace</code> has the following structure</p> <div class=highlight><pre><span></span><code><span class=nt>identifier</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">model_name</span><span class=w> </span><span class=c1># The name of the property</span>
<span class=nt>propertyDomain</span><span class=p>:</span><span class=w> </span><span class=c1># The domain describes the values the property can take</span>
<span class=w>  </span><span class=nt>variableType</span><span class=p>:</span><span class=w> </span><span class=c1># The type of the variable: CATEGORICAL_VARIABLE_TYPE, DISCRETE_VARIABLE_TYPE, CONTINUOUS_VARIABLE_TYPE or UNKNOWN_VARIABLE_TYPE</span>
<span class=w>                </span><span class=c1># The type defines what values the next fields can take</span>
<span class=w>  </span><span class=nt>values</span><span class=p>:</span><span class=w>   </span><span class=c1># If the variable is CATEGORICAL_VARIABLE_TYPE this is a list of the categories</span>
<span class=w>    </span><span class="p p-Indicator">-</span><span class=w>       </span><span class=c1># If the variable is DISCRETE_VARIABLE_TYPE this can be a list of discrete float or integer values it can take</span>
<span class=w>  </span><span class=nt>domainRange</span><span class=p>:</span><span class=w> </span><span class=c1># If the variables is DISCRETE_VARIABLE_TYPE or CONTINUOUS_VARIABLE_TYPE this is the min inclusive, max exclusive range it can take</span>
<span class=w>               </span><span class=c1># If the variable is DISCRETE_VARIABLE_TYPE and values are given this must be compatible with the values</span>
<span class=w>  </span><span class=nt>interval</span><span class=p>:</span><span class=w> </span><span class=c1># If the variable is DISCRETE_VARIABLE_TYPE this is the interval between the values. </span>
<span class=w>            </span><span class=c1># If given domainRange is required and values cannot be given</span>
</code></pre></div> <p>As long as all constitutive properties are not "UNKNOWN_VARAIBLE_TYPE" there is sufficient information to sample new entities from the <code>entityspace</code> description. </p> <h3 id=ensuring-the-entityspace-and-measurementspace-are-compatible>Ensuring the <code>entityspace</code> and <code>measurementspace</code> are compatible<a class=headerlink href=#ensuring-the-entityspace-and-measurementspace-are-compatible title="Permanent link">&para;</a></h3> <p>This section elaborates on <a href=#generating-an-initial-yaml-from-an-experiment-list>Generating an initial YAML from an Experiment list</a>.</p> <p>Experiments take entities as inputs and those entities must have values for various properties in order for the experiments to be able to process them. This means the domains of the properties in the <code>entityspace</code> must be compatible with the experiments - if not entities could be sampled that experiments in the <code>measurementspace</code> cannot measure. </p> <p>Assuming that: - The experiment you are interested in is <code>finetune-full-fsdp-v1.6.0</code> - It's part of the actuator <code>SFTTrainer</code></p> <p>To see the input requirements of an experiment you can run</p> <div class=highlight><pre><span></span><code>ado<span class=w> </span>describe<span class=w> </span>experiment<span class=w> </span>finetune-full-fsdp-v1.6.0<span class=w> </span>--actuator-id<span class=w> </span>SFTTrainer
</code></pre></div> <p>you will get output like <div class=highlight><pre><span></span><code>Identifier: SFTTrainer.finetune-full-fsdp-v1.6.0
Measures the performance of full-fine tuning a model with FSDP+flash-attention for a given (GPU model, number GPUS, batch_size, model_max_length) combination.
Inputs:
  Constitutive Properties:
      dataset_id
      Domain:
        Type: CATEGORICAL_VARIABLE_TYPE
        Values: [&#39;news-chars-1024-entries-1024&#39;, &#39;news-chars-1024-entries-256&#39;, &#39;news-chars-1024-entries-4096&#39;, &#39;news-chars-2048-entries-1024&#39;, &#39;news-chars-2048-entries-256&#39;, &#39;news-chars-2048-entries-4096&#39;, &#39;news-chars-512-entries-1024&#39;, &#39;news-chars-512-entries-256&#39;, &#39;news-chars-512-entries-4096&#39;, &#39;news-tokens-128kplus-entries-320&#39;, &#39;news-tokens-128kplus-entries-4096&#39;, &#39;news-tokens-16384plus-entries-4096&#39;]
        
      
      model_name
      Domain:
        Type: CATEGORICAL_VARIABLE_TYPE
        Values: [&#39;granite-13b-v2&#39;, &#39;granite-20b-v2&#39;, &#39;granite-34b-code-base&#39;, &#39;granite-3b-1.5&#39;, &#39;granite-3b-code-base-128k&#39;, &#39;granite-7b-base&#39;, &#39;granite-8b-code-base&#39;, &#39;granite-8b-code-base-128k&#39;, &#39;granite-8b-japanese&#39;, &#39;hf-tiny-model-private/tiny-random-BloomForCausalLM&#39;, &#39;llama-13b&#39;, &#39;llama-7b&#39;, &#39;llama2-70b&#39;, &#39;llama3-70b&#39;, &#39;llama3-8b&#39;, &#39;llama3.1-405b&#39;, &#39;llama3.1-70b&#39;, &#39;llama3.1-8b&#39;, &#39;mistral-7b-v0.1&#39;, &#39;mixtral-8x7b-instruct-v0.1&#39;]
        
      
      model_max_length
      Domain:
        Type: DISCRETE_VARIABLE_TYPE Interval: 1.0 Range: [1, 131073] 
      
      torch_dtype
      Domain:
        Type: CATEGORICAL_VARIABLE_TYPE Values: [&#39;bfloat16&#39;] 
      
      number_gpus
      Domain:
        Type: DISCRETE_VARIABLE_TYPE Interval: 1.0 Range: [2, 9] 
      
      gpu_model
      Domain:
        Type: CATEGORICAL_VARIABLE_TYPE
        Values: [&#39;NVIDIA-A100-SXM4-80GB&#39;, &#39;NVIDIA-A100-80GB-PCIe&#39;, &#39;Tesla-T4&#39;, &#39;L40S&#39;, &#39;Tesla-V100-PCIE-16GB&#39;]
        
      
      batch_size
      Domain:
        Type: DISCRETE_VARIABLE_TYPE Interval: 1.0 Range: [1, 129] 
      
      
Outputs:
  finetune-full-fsdp-v1.6.0-gpu_compute_utilization_min
  finetune-full-fsdp-v1.6.0-gpu_compute_utilization_avg
  finetune-full-fsdp-v1.6.0-gpu_compute_utilization_max
  finetune-full-fsdp-v1.6.0-gpu_memory_utilization_min
  finetune-full-fsdp-v1.6.0-gpu_memory_utilization_avg
  finetune-full-fsdp-v1.6.0-gpu_memory_utilization_max
  finetune-full-fsdp-v1.6.0-gpu_memory_utilization_peak
  finetune-full-fsdp-v1.6.0-gpu_power_watts_min
  finetune-full-fsdp-v1.6.0-gpu_power_watts_avg
  finetune-full-fsdp-v1.6.0-gpu_power_watts_max
  finetune-full-fsdp-v1.6.0-gpu_power_percent_min
  finetune-full-fsdp-v1.6.0-gpu_power_percent_avg
  finetune-full-fsdp-v1.6.0-gpu_power_percent_max
  finetune-full-fsdp-v1.6.0-cpu_compute_utilization
  finetune-full-fsdp-v1.6.0-cpu_memory_utilization
  finetune-full-fsdp-v1.6.0-train_runtime
  finetune-full-fsdp-v1.6.0-train_samples_per_second
  finetune-full-fsdp-v1.6.0-train_steps_per_second
  finetune-full-fsdp-v1.6.0-train_tokens_per_second
  finetune-full-fsdp-v1.6.0-train_tokens_per_gpu_per_second
  finetune-full-fsdp-v1.6.0-model_load_time
  finetune-full-fsdp-v1.6.0-dataset_tokens_per_second
  finetune-full-fsdp-v1.6.0-dataset_tokens_per_second_per_gpu
  finetune-full-fsdp-v1.6.0-is_valid
</code></pre></div></p> <p>Note the experiment gives the full domains it supports for each constitutive property. However, when constructing the <code>entityspace</code> you usually only want to use a sub-domain.</p> <h2 id=parameterizing-experiments>Parameterizing Experiments<a class=headerlink href=#parameterizing-experiments title="Permanent link">&para;</a></h2> <p>If an experiment has <a href=../../core-concepts/actuators/#optional-properties>optional properties</a> you can define equivalent properties in the entity space. If you don't the default value for the property will be used.</p> <p>In addition, you can define your own custom parameterization of the experiment. For example, take the following experiment:</p> <div class=highlight><pre><span></span><code>Identifier: robotic_lab.peptide_mineralization

Measures adsorption of peptide lanthanide combinations

Required Inputs:
  Constitutive Properties:
      peptide_identifier
      Domain:
        Type: CATEGORICAL_VARIABLE_TYPE
        Values: [&#39;test_peptide&#39;, &#39;test_peptide_new&#39;]
        
      
      peptide_concentration
      Domain:
        Type: DISCRETE_VARIABLE_TYPE
        Values: [0.1, 0.4, 0.6, 0.8]
        Range: [0.1, 1.8]
        
      
      lanthanide_concentration
      Domain:
        Type: DISCRETE_VARIABLE_TYPE
        Values: [0.1, 0.4, 0.6, 0.8]
        Range: [0.1, 1.8]
        
      
      
Optional Inputs and Default Values:
  temperature
  Domain:
    Type: CONTINUOUS_VARIABLE_TYPE Range: [0, 100] 
  
  Default value: 23.0
  
  replicas
  Domain:
    Type: DISCRETE_VARIABLE_TYPE Interval: 1.0 Range: [1, 4] 
  
  Default value: 1.0
  
  robot_identifier
  Domain:
    Type: CATEGORICAL_VARIABLE_TYPE Values: [&#39;harry&#39;, &#39;hermione&#39;] 
  
  Default value: hermione
  
  
Outputs:
  peptide_mineralization-adsorption_timeseries
  peptide_mineralization-adsorption_plateau_value
</code></pre></div> <p>It has three optional properties: <code>temperature</code>, <code>robot_identifier</code> and <code>replicas</code>. </p> <h3 id=example-customizing-an-experiment>Example: Customizing an experiment<a class=headerlink href=#example-customizing-an-experiment title="Permanent link">&para;</a></h3> <p>The default temperature is <code>23</code> degrees C, however imagine you want to run this experiment at <code>30</code> degrees C. You can define a <code>discoveryspace</code> like:</p> <div class=highlight><pre><span></span><code><span class=nt>sampleStoreIdentifier</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">c04713</span><span class=w> </span>
<span class=nt>entitySpace</span><span class=p>:</span>
<span class="p p-Indicator">-</span><span class=w> </span><span class=nt>identifier</span><span class=p>:</span><span class=w>  </span><span class="l l-Scalar l-Scalar-Plain">peptide_identifier</span>
<span class=w>  </span><span class=nt>propertyDomain</span><span class=p>:</span>
<span class=w>    </span><span class=nt>values</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">[</span><span class=s>&#39;test_peptide&#39;</span><span class="p p-Indicator">]</span>
<span class="p p-Indicator">-</span><span class=w> </span><span class=nt>identifier</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">peptide_concentration</span>
<span class=w>  </span><span class=nt>propertyDomain</span><span class=p>:</span>
<span class=w>    </span><span class=nt>values</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">[</span><span class=nv>0.1</span><span class="p p-Indicator">,</span><span class=nv>0.4</span><span class="p p-Indicator">,</span><span class=nv>0.6</span><span class="p p-Indicator">,</span><span class=nv>0.8</span><span class="p p-Indicator">]</span>
<span class="p p-Indicator">-</span><span class=w> </span><span class=nt>identifier</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">lanthanide_concentration</span>
<span class=w>  </span><span class=nt>propertyDomain</span><span class=p>:</span>
<span class=w>    </span><span class=nt>values</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">[</span><span class=w> </span><span class=nv>0.1</span><span class="p p-Indicator">,</span><span class=nv>0.4</span><span class="p p-Indicator">,</span><span class=nv>0.6</span><span class="p p-Indicator">,</span><span class=nv>0.8</span><span class=w> </span><span class="p p-Indicator">]</span>
<span class=nt>experiments</span><span class=p>:</span>
<span class="p p-Indicator">-</span><span class=w> </span><span class=nt>actuatorIdentifier</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">robotic_lab</span>
<span class=w>  </span><span class=nt>experimentIdentifier</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">peptide_mineralization</span>
<span class=w>  </span><span class=nt>parameterization</span><span class=p>:</span>
<span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">30</span>
<span class=w>      </span><span class=nt>property</span><span class=p>:</span>
<span class=w>        </span><span class=nt>identifier</span><span class=p>:</span><span class=w> </span><span class=s>&#39;temperature&#39;</span>
<span class=nt>metadata</span><span class=p>:</span>
<span class=w>  </span><span class=nt>description</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Space for exploring the absorption properties of test_peptide</span>
</code></pre></div> <h3 id=example-multiple-customizations-of-the-same-experiment>Example: Multiple customizations of the same experiment<a class=headerlink href=#example-multiple-customizations-of-the-same-experiment title="Permanent link">&para;</a></h3> <p>You can add the multiple custom parameterizations of the same experiment e.g. one experiment that runs at 30 degrees C and another at 25 degrees. </p> <div class=highlight><pre><span></span><code><span class=nt>sampleStoreIdentifier</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">c04713</span><span class=w> </span><span class=c1># PUT REAL ID HERE</span>
<span class=nt>entitySpace</span><span class=p>:</span>
<span class="p p-Indicator">-</span><span class=w> </span><span class=nt>identifier</span><span class=p>:</span><span class=w>  </span><span class="l l-Scalar l-Scalar-Plain">peptide_identifier</span>
<span class=w>  </span><span class=nt>propertyDomain</span><span class=p>:</span>
<span class=w>    </span><span class=nt>values</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">[</span><span class=s>&#39;test_peptide&#39;</span><span class="p p-Indicator">]</span>
<span class="p p-Indicator">-</span><span class=w> </span><span class=nt>identifier</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">peptide_concentration</span>
<span class=w>  </span><span class=nt>propertyDomain</span><span class=p>:</span>
<span class=w>    </span><span class=nt>values</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">[</span><span class=nv>0.1</span><span class="p p-Indicator">,</span><span class=nv>0.4</span><span class="p p-Indicator">,</span><span class=nv>0.6</span><span class="p p-Indicator">,</span><span class=nv>0.8</span><span class="p p-Indicator">]</span>
<span class="p p-Indicator">-</span><span class=w> </span><span class=nt>identifier</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">lanthanide_concentration</span>
<span class=w>  </span><span class=nt>propertyDomain</span><span class=p>:</span>
<span class=w>    </span><span class=nt>values</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">[</span><span class=w> </span><span class=nv>0.1</span><span class="p p-Indicator">,</span><span class=nv>0.4</span><span class="p p-Indicator">,</span><span class=nv>0.6</span><span class="p p-Indicator">,</span><span class=nv>0.8</span><span class=w> </span><span class="p p-Indicator">]</span>
<span class=nt>experiments</span><span class=p>:</span>
<span class="p p-Indicator">-</span><span class=w> </span><span class=nt>actuatorIdentifier</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">robotic_lab</span>
<span class=w>  </span><span class=nt>experimentIdentifier</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">peptide_mineralization</span>
<span class=w>  </span><span class=nt>parameterization</span><span class=p>:</span>
<span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">30</span>
<span class=w>      </span><span class=nt>property</span><span class=p>:</span>
<span class=w>        </span><span class=nt>identifier</span><span class=p>:</span><span class=w> </span><span class=s>&#39;temperature&#39;</span>
<span class="p p-Indicator">-</span><span class=w> </span><span class=nt>actuatorIdentifier</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">robotic_lab</span>
<span class=w>  </span><span class=nt>experimentIdentifier</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">peptide_mineralization</span>
<span class=w>  </span><span class=nt>parameterization</span><span class=p>:</span>
<span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">25</span>
<span class=w>      </span><span class=nt>property</span><span class=p>:</span>
<span class=w>        </span><span class=nt>identifier</span><span class=p>:</span><span class=w> </span><span class=s>&#39;temperature&#39;</span>
<span class=nt>metadata</span><span class=p>:</span>
<span class=w>  </span><span class=nt>description</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Space for exploring the absorption properties of test_peptide</span>
</code></pre></div> <h3 id=example-using-an-optional-property-in-the-entityspace>Example: Using an optional property in the <code>entityspace</code><a class=headerlink href=#example-using-an-optional-property-in-the-entityspace title="Permanent link">&para;</a></h3> <p>Finally, if you want to scan a range of temperatures in your discovery space, the best would be to move this parameter into the <code>entityspace</code>:</p> <div class=highlight><pre><span></span><code><span class=nt>sampleStoreIdentifier</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">c04713</span><span class=w> </span><span class=c1># PUT REAL ID HERE</span>
<span class=nt>entitySpace</span><span class=p>:</span>
<span class="p p-Indicator">-</span><span class=w> </span><span class=nt>identifier</span><span class=p>:</span><span class=w>  </span><span class="l l-Scalar l-Scalar-Plain">peptide_identifier</span>
<span class=w>  </span><span class=nt>propertyDomain</span><span class=p>:</span>
<span class=w>    </span><span class=nt>values</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">[</span><span class=s>&#39;test_peptide&#39;</span><span class="p p-Indicator">]</span>
<span class="p p-Indicator">-</span><span class=w> </span><span class=nt>identifier</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">peptide_concentration</span>
<span class=w>  </span><span class=nt>propertyDomain</span><span class=p>:</span>
<span class=w>    </span><span class=nt>values</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">[</span><span class=nv>0.1</span><span class="p p-Indicator">,</span><span class=nv>0.4</span><span class="p p-Indicator">,</span><span class=nv>0.6</span><span class="p p-Indicator">,</span><span class=nv>0.8</span><span class="p p-Indicator">]</span>
<span class="p p-Indicator">-</span><span class=w> </span><span class=nt>identifier</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">lanthanide_concentration</span>
<span class=w>  </span><span class=nt>propertyDomain</span><span class=p>:</span>
<span class=w>    </span><span class=nt>values</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">[</span><span class=w> </span><span class=nv>0.1</span><span class="p p-Indicator">,</span><span class=nv>0.4</span><span class="p p-Indicator">,</span><span class=nv>0.6</span><span class="p p-Indicator">,</span><span class=nv>0.8</span><span class=w> </span><span class="p p-Indicator">]</span>
<span class="p p-Indicator">-</span><span class=w> </span><span class=nt>identifier</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">temperature</span>
<span class=w>  </span><span class=nt>propertyDomain</span><span class=p>:</span>
<span class=w>    </span><span class=nt>domainRange</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">[</span><span class=nv>20</span><span class="p p-Indicator">,</span><span class=nv>30</span><span class="p p-Indicator">]</span>
<span class=w>    </span><span class=nt>interval</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<span class=nt>experiments</span><span class=p>:</span>
<span class="p p-Indicator">-</span><span class=w> </span><span class=nt>actuatorIdentifier</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">robotic_lab</span>
<span class=w>  </span><span class=nt>experimentIdentifier</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">peptide_mineralization</span>
<span class=nt>metadata</span><span class=p>:</span>
<span class=w>  </span><span class=nt>description</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Space for exploring the absorption properties of test_peptide</span>
</code></pre></div> <p>Here entities will be generated with a temperatures property that ranges from 20 to 30 degrees. When the experiment is run on the entity it will retrieve the value of the temperature from it rather than the Experiment. </p> <p>Our toy <a href=https://github.com/IBM/ado/tree/main/plugins/actuators/example_actuator>example actuator</a> contains the above examples. You can use it to experiment and explore custom parameterization. </p> </article> </div> <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg> Back to top </button> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=Footer> <a href=../sample-stores/ class="md-footer__link md-footer__link--prev" aria-label="Previous: samplestore"> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </div> <div class=md-footer__title> <span class=md-footer__direction> Previous </span> <div class=md-ellipsis> samplestore </div> </div> </a> <a href=../operation/ class="md-footer__link md-footer__link--next" aria-label="Next: operation"> <div class=md-footer__title> <span class=md-footer__direction> Next </span> <div class=md-ellipsis> operation </div> </div> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Copyright IBM Research. </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-social> <a href=https://github.com/ibm/ado target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill=currentColor d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </a> <a href=https://www.ibm.com/ target=_blank rel=noopener title=www.ibm.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill=currentColor d="M351.9 280H161c2.9 64.5 17.2 123.9 37.5 167.4 11.4 24.5 23.7 41.8 35.1 52.4 11.2 10.5 18.9 12.2 22.9 12.2s11.7-1.7 22.9-12.2c11.4-10.6 23.7-28 35.1-52.4 20.3-43.5 34.6-102.9 37.5-167.4zm-191-48h190.9c-2.8-64.5-17.1-123.9-37.4-167.4-11.4-24.4-23.7-41.8-35.1-52.4C268.1 1.7 260.4 0 256.4 0s-11.7 1.7-22.9 12.2c-11.4 10.6-23.7 28-35.1 52.4-20.3 43.5-34.6 102.9-37.5 167.4m-48 0c3.5-85.6 25.6-165.1 57.9-217.3C78.7 47.3 10.9 131.2 1.5 232zM1.5 280c9.4 100.8 77.2 184.7 169.3 217.3-32.3-52.2-54.4-131.7-57.9-217.3zm398.4 0c-3.5 85.6-25.6 165.1-57.9 217.3 92.1-32.7 159.9-116.5 169.3-217.3zm111.4-48C501.9 131.2 434.1 47.3 342 14.7c32.3 52.2 54.4 131.7 57.9 217.3z"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../..", "features": ["content.action.edit", "content.action.feedback", "content.code.annotate", "content.code.copy", "content.tabs.link", "navigation.footer", "navigation.expand", "navigation.indexes", "navigation.instant", "navigation.sections", "navigation.tabs", "navigation.tabs.sticky", "navigation.top", "navigation.tracking", "search.share", "search.suggest", "toc.integrate"], "search": "../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script> <script src=../../assets/javascripts/bundle.92b07e13.min.js></script> </body> </html>